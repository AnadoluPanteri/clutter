clutter (0.8.2-0maemo20~unreleased) unstable; urgency=low

  * Moved cogl_check_extension to common (so GLES uses it now)
    Fixed invalid reporting of extension string
  * clutter-backend-egl now dumps GLES extension string if 
    CLUTTER_DEBUG=backend
  * Refactored PVR texture compression code into GL-related and
    non-GL related code
  * Don't crash if fonts are not installed.
  * Changed color_enable (and added color_array_enable) to ensure that colour
    is set correctly even when drawing colour using arrays
  * added small speedup to PVRTC
  * Modified timeline priority to ensure that animation happens before redraws

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Mon,  2 Mar 2009 09:37:27 +0200

clutter (0.8.2-0maemo19) unstable; urgency=low

  * Fixed coverity findings for clutter-behaviour-rotate.c
  * Fixed coverity findings for json-parser.c
  * Changed colour ranges for _cogl_bitmap_check_alpha to make it more safe
  * Changed _cogl_bitmap_check_alpha to be 100% safe (at the expense of colour
    depth) - bug 102062
  * Changed color_enable (and added color_array_enable) to ensure that colour
    is set correctly even when drawing colour using arrays
  * added small speedup to PVRTC
  * Modified timeline priority to ensure that animation happens before redraws

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Mon, 02 Mar 2009 09:35:09 +0200

clutter (0.8.2-0maemo18) unstable; urgency=low

  * Started to compile without debug code and Gobject checks, so that we get
    enough testing for the code without checking code (which can affect the
    behaviour).
  * Committed patch from http://bugzilla.openedhand.com/show_bug.cgi?id=1228
  * Added conversion to A8 that got missed out of conversion code
  * Moved changes from 0.8.4 clutter-color to this branch
  * Properly set up PVRTC texture compression support flag

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Mon, 23 Feb 2009 12:27:50 +0200

clutter (0.8.2-0maemo17) unstable; urgency=low

  * Removed needless print for scratchbox
  * Fixed RGBA texture pixmaps in X11-texture-pixmap (format conversion hell)
  * Fixed possible uninitialised pointer in x11-texture
  * Re-implemented the format conversion code to make it much quicker and 
    tidier using preprocessor

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Wed, 11 Feb 2009 09:24:53 +0200

clutter (0.8.2-0maemo16) unstable; urgency=low

  Plugged leaks found by Coverity:
  * clutter/cogl/common/cogl-bitmap.c (cogl_bitmap_save_pvrtc4): Free
    pointer 'compressed'.
  * clutter/cogl/common/cogl-pvr-texture.c (cogl_pvr_texture_load): fclose()
    'texfile' in case of a return because of an error. Free 'texture_data' in
    one error return.
  * clutter/x11/clutter-backend-x11.c (_clutter_x11_register_xinput): Free
    pointer 'ext' and 'xdevices'.
  * clutter/x11/clutter-x11-texture-pixmap.c (try_alloc_shm): Free
    dummy_image.
    (clutter_x11_texture_pixmap_update_area_real): Added NULL check for
    an XGetImage call. Free 'image' in case of some error cases.
  * Removed some old debug prints.
  * clutter/cogl/gles/cogl-fixed-fragment-shader.glsl (.h/.c genereated), 
    clutter/cogl/gles/cogl-gles2-wrapper.c:
    Do to not multiply the texture's colour by the current colour if our
    colour is white (95% of cases). Gives us ~5% speed increase.	

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Tue, 10 Feb 2009 13:28:00 +0200

clutter (0.8.2-0maemo15) unstable; urgency=low

  * Added Adam Endrodi's patch for DestroyNotify events causing the pixmap 
    to be destroyed in x11-texture-pixmap
  * Added FIXED_TO_INT_ROUND to round to the nearest(ish) integer rather than
    just clipping. Was to fix FP inaccuracies in the set_clip code
  * Modified GLES cogl-texture to skip allocation and copying to an 
    intermediate bitmap if row strides match properly. Also use glTexImage2D
    if not copying a sub-area, but the whole image.
  * Pierre-Luc Beaudoin's patch to disable frame skipping to allow easier
    profiling of clutter.

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Mon, 02 Feb 2009 17:34:11 +0200

clutter (0.8.2-0maemo14) unstable; urgency=low

  * Modified clutter_stage_redraw_damage so that the stage can be redrawn with
    a delay - which helps get rid of multiple redraws when we get >1 XDamage
    events within a few ms of each other. Currently this is set to 0 delay as 
    we found it didn't help much.
  * Added CLUTTER_TEXTURE_FLAG_16_BIT to force 16 bit textures in 
    set_from_rgb_data
  * Added clutter_x11_texture_pixmap_add_shape to deal with transparency in
    textures via XShapeGetRectangles    
  * Modified eglx_texture_pixmap to try creating a texture with alpha before
    it creates one without - this solves the transparent window issue on device
  * removed warning from GL/cogl.c
  * quick fix to get update area working on scratchbox
  * Added a whole load of floating point matrix functions to stop the 
    inaccuracies that were corrupting the screen in update_area calls. 
  * Added code to draw a black rectangle with a red border for any window that
    doesn't have a pixmap (as opposed to just spamming stdout)

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Mon, 19 Jan 2009 16:21:48 +0000

clutter (0.8.2-0maemo13) unstable; urgency=low

  * added cogl_modify_clip_viewport to allow rendering to a specific area (gw)
  * Modified redraw_damage code to allow redraw using viewport rather than 
    glScissor (gw)
  * Stopped eglx-texture-pixmap from creating a new texture on ANY change event, 
    and instead do it only when width/height/depth changes (gw)
  * Set up xevent handlers in clutter-x11-texture-pixmap.c only if
    XDAMAGE_HANDLING is defined. This avoids doing damage handling twice for
    application windows and should avoid some surprises in libmatchbox2 side
    (kh).
  * Do not alter XComposite redirections in clutter-x11-texture-pixmap.c, that
    belongs to the window manager (kh).
  * Removed some un-needed log messages for EGLX textures (gw)
  * Set damage to update the whole screen after a 'pick' event (as it will have
    destroyed the buffer)
  * Commented out extra code that caused clutter to not compile with -Werror
  * Reinstated XDamage and XComposite as something in it reverted bug 95594 
    (and multiple XDamage shouldn't be an issue with the next bunch of work
    I'm working on).

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Wed, 12 Jan 2009 12:17:52 +0000

clutter (0.8.2-0maemo12) unstable; urgency=low

  * check for EGL_NOKIA_texture_from_pixmap, not EGL_EXT_...
  * Added clutter_actor_set_allow_redraw to stop certain actors forcing redraw
  * Added clutter_stage_set_damaged_area to allow redraw of only damaged areas
  * Added clutter_actor_set_visibility_detect to skip visibility detection on
    stuff that doesn't play fair - like h-d task navigator
  * Added clutter_actor_queue_redraw_damage to allow a redraw to be queued
    without the whole screen being marked as damaged.

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Mon, 29 Dec 2008 15:21:43 +0200

clutter (0.8.2-0maemo11) unstable; urgency=low

  * Added PVRTC4 Texture compressor + decompressor
  * Added PVR decompressor fallback for loading PVRs on GL
  * Removed optional PVR loading code from clutter-texture
  * Made cogl-texture understand and load .pvr files
  * added cogl_bitmap_save_pvrtc4 to save compressed pvr file 
    so it can be used for h-d backgrounds
  * added extra 1 byte per pixel texture formats to 
    clutter_texture_set_from_rgb_data for gaussian shadows in
    matchbox
  * Removed visibility check for redraw as I think it adds more trouble
    than it solves
  * Added null-pointer check for container sort
  * Exposed cogl_blend_func to let tidy-blur-group work properly
    with transparent textures
  * Removed 'updating texture' messages fom EGL TFP
  * Fixed several warnings throughout the code
  * added more useful debug message to EGL TFP
  * Kimmo: Add check before queuing a paint in update_area in EGL TFP.
  * Kimmo: Use new libgles2 and libgles2-dev packages. 

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Wed, 28 Nov 2008 16:24:30 +0000

clutter (0.8.2-0maemo10) unstable; urgency=low

  * Added cogl-pvr-texture file to allow GLES to load PVR compressed textures
    if they exist
  * Replaced stencil-based clipping with WAY faster scissor-based clipping
    for the case where we're clipping to rectangles
  * Removed instantiation of surfaces with a stencil buffer for GLES
    as we won't need it now
  * Moved matrix functions from clutter-actor to cogl-util (+ added unproject)
  * Added stencil area to visibility detection so we don't even ask
    GLES to draw outside clipping regions (eg. for lists)
  * Modified pixel shaders to use lowp (int10) where possible instead of
    mediump (float16)
  * Now compile with Werror and modified some code accordingly
  * Added code to allow notification of modification of children to parent
    containers - used when a texture is used in a container to cache the 
    state of its children (specifically tidy-blur-group in h-d)
  * Modified COGL to add cogl_texture_triangles to allow fast drawing on GLES
  * Modified Pango Renderer to use one call to cogl_texture_triangles rather
    than many calls to cogl_texture_rectangle
  * Modified cogl-bitmap-pixbuf to only use a single memcpy on load rather than
    one per scanline

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Wed, 21 Nov 2008 11:25:48 +0000

clutter (0.8.2-0maemo9) unstable; urgency=low

  * Added visibility checking for actors
  * Added more useful Clutter debug prints for [PAINT]
  * Added automatic naming of textures (if created with new_file) for [PAINT]

  * Added short-cut to stop matrix multiply for scale 1,1,1 and translate 0,0,0
  * Removed GL_LIGHTING which caused invalid_enum for GLES2
  * Re-arranged CoglPixelFormat so it works now and has more obvious macros
  * Removed error-prone lookup table in cogl-bitmap
  * Added more fast paths for pixel format conversion
  * Added PIXEL_FORMAT_ANY_16 to select the best 16 bit pixel format for a texture
  * MAEMO SPECIFIC: MADE clutter-texture ALWAYS USE 16 BIT

  * Fixed fixed-point issues for FBOs as well as normal buffers

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Thu, 14 Nov 2008 13:53:00 +0000

clutter (0.8.2-0maemo8) unstable; urgency=low

  * Style changes to EGLX backend.
  * Fixed scaling to screen inaccuracy causing hildon-desktop not to fit screen
  * Fix bug in EGLX pixmap_paint: don't call eglReleaseTexImage if
    eglBindTexImage had failed.

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Tue, 11 Nov 2008 15:21:45 +0000

clutter (0.8.2-0maemo7) unstable; urgency=low

  * Revert to old test-pixmap.c to  enable x86 building.

 -- Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>  Thu,  6 Nov 2008 16:59:17 +0200

clutter (0.8.2-0maemo6) unstable; urgency=low

  * Added XInput.h temporarily to make building succeed.

 -- Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>  Thu,  6 Nov 2008 16:11:43 +0200

clutter (0.8.2-0maemo5) unstable; urgency=low

  * Initial support for EGL texture from pixmap extension in the EGLX backend.

 -- Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>  Wed,  5 Nov 2008 16:39:03 +0200

clutter (0.8.2-0maemo4) unstable; urgency=low

  [ Gordon Williams ]
  * EGLX Stage now requests EGL_PIXMAP if possible, but falls back if not
  * Bug 90522 fixed - 'clipping not working' - EGLX Stage needed to request a stencil buffer

  [ Rodrigo Novo ]
  * Applied patch to eglx/clutter-stage-egl.c, by Sami Kyöstilä, to allow
    Clutter to run properly with the "new" sgx driver

 -- Rodrigo Novo <novo@wakko.research.nokia.com>  Fri, 31 Oct 2008 15:25:57 +0200

clutter (0.8.2-0maemo3) unstable; urgency=low

  [ Gordon Williams ]
  * Added format conversion for RGB/BGR565 within cogl
  * Added faster special case for BGR565 -> BGR888 conversion
  * Removed non-GLES2 specific conversions in X11-pixmap

 -- Gordon Williams <gordon.williams@collabora.co.uk>  Thu, 23 Oct 2008 18:04:00 +0000

clutter (0.8.2-0maemo2) unstable; urgency=low

  [ Kimmo Hämälainen ]
  * Added texture_from_pixmap support to the EGLX backend.

  [ Gordon Williams ]
  * Added Kimmo's as yet unused EGLX X11 pixmap patch
  * Removed 32 bit format conversion for x11-pixmap
  * Stopped clutter slicing GLES2 textures when there was no need

 -- Claudio Saavedra <csaavedra@igalia.com>  Thu, 23 Oct 2008 09:18:44 +0200

clutter (0.8.2-0maemo1) unstable; urgency=low

  * New upstream version 0.8.2

 -- Claudio Saavedra <csaavedra@igalia.com>  Fri, 26 Sep 2008 09:36:52 +0300

clutter (0.8.0-0maemo1) unstable; urgency=low

  * Upstream version 0.8
  * Disabled gtk-docs for now.
  * Added Neil Roberts' FBO patch for GLES2 backend.

 -- Kimmo Hämäläinen <kimmo.hamalainen@nokia.com>  Tue, 29 Jul 2008 15:58:49 +0300
